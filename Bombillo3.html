<html>
    <head>
        <title>Dom√≥tica</title>

        <meta charset="utf-8">

        <style>

            body> div {
                display:flex;
                flex-direction:column;
                justify-content:center;
                align-items:center;
                height:90vh;
            }

            div div {
                margin:1em;
                text-align: center;
            }

            button {
                width:100px;
                height:50px;
            }
        </style>
    </head>

    <body>

        <div>
            <div>
                <img id="bombilla" src="http://lnd.angelmelchor.pro/bulboff.gif" >
            </div>
            <div>
                <button id="bon" onclick="conmutar()">On</button>
            </div>
            <div>
                <button id="boff" onclick="apaga()">Off</button>
            </div>
        </div>
        <script>
            const ele_bombilla=document.getElementById("bombilla");
            const bon = document.getElementById("bon");
            const boff = document.getElementById("boff");
            boff.style.visibility="hidden";
            let encendida = true;
            const elemento_h3 = document.createElement("h3");
            ele_bombilla.insertAdjacentElement("afterend", elemento_h3);
            function conmutar(){
                const fecha = new Date();
                const hora = fecha.getHours();
                const minutos = fecha.getMinutes();
                const segundos = fecha.getSeconds();
                if (encendida) {
                    ele_bombilla.src="http://lnd.angelmelchor.pro/bulboff.gif";
                    bon.style.backgroundColor="green";
                    bon.style.color="white";
                    bon.innerText="On";
                    encendida = false;
                    mensaje = "Bombilla apagada a las " + hora + ":" + minutos + ":" + segundos;
                }
                else {
                    ele_bombilla.src="http://lnd.angelmelchor.pro/bulbon.gif";
                    bon.style.backgroundColor="red";
                    bon.style.color="white";
                    bon.innerText="Off";
                    encendida = true;
                    mensaje = "Bombilla encendida a las " + hora + ":" + minutos + ":" + segundos;
                }
                elemento_h3.innerText = mensaje;
            }
        </script>
    </body>
</html>